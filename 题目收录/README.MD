# 答案收录脚本 v1.0.0 发布公告

## 脚本简介

**答案收录** 是一款专为超星学习平台设计的 Tampermonkey 脚本，旨在自动收录已完成状态的题目答案，并提交到本地服务器（`http://127.0.0.1:5000`）。该脚本修复了 `ed_complete` 方法和题目识别问题，确保仅在题目状态为“已完成”时收录答案，支持单选题、多选题、判断题和填空题。

## 功能特性

- **自动检测完成状态**：仅在题目状态为“已完成”时收录答案，避免错误数据。
- **支持多种题型**：包括单选题、多选题、填空题和判断题，自动解析题目、选项和答案。
- **数据清洗**：处理包含图片和 iframe 的题目内容，提取纯文本信息。
- **错误提示**：使用 SweetAlert2 提供友好的成功/失败提示。
- **跨域兼容**：适配超星平台的 iframe 结构，修复跨域访问问题。
- **本地服务器交互**：通过 POST 请求将答案数据提交到本地服务器。

## 安装要求

- **Tampermonkey 浏览器扩展**：需安装 Tampermonkey 或其他支持用户脚本的扩展。

- **本地服务器**：确保 `http://127.0.0.1:5000/cx_update` 端点可用，用于接收答案数据。

- 依赖库

  ：

  - jQuery 3.6.0（通过 CDN 加载）
  - SweetAlert2 11.0.1（通过 CDN 加载）

- **浏览器支持**：Chrome、Firefox、Edge 等主流浏览器。

## 使用方法

1. 安装 Tampermonkey 扩展。
2. 将脚本代码导入 Tampermonkey（复制代码或导入文件）。
3. 确保本地服务器（`http://127.0.0.1:5000`）正在运行。
4. 访问超星学习平台（`*.chaoxing.com`），进入作业页面。
5. 完成题目后，脚本会自动检测“已完成”状态并收录答案，成功或失败时会弹出提示。

## 注意事项

- 脚本仅在题目状态为“已完成”且答案正确时收录数据。
- 请确保本地服务器正常运行，且无代理或防火墙拦截 `127.0.0.1:5000` 的请求。
- 答案数据以 JSON 格式提交，包含题目、答案、题型和选项文本。
- 如果遇到跨域问题，脚本会尝试自动设置 `document.domain`。

## 反馈与支持

- **问题反馈**：请在 GitHub Issues 或 Tampermonkey 社区提交问题。
- **作者**：xuexim
- **许可证**：MIT

## 更新日志

### v1.0.0 (2025-06-06)

- 初始版本发布。
- 实现答案收录核心功能。
- 修复 `ed_complete` 方法缺失问题。
- 支持超星平台的多种页面类型（`/work/doHomeWorkNew`、`/work/selectWorkQuestionYiPiYue` 等）。

感谢使用 **答案收录** 脚本！期待您的反馈与建议！